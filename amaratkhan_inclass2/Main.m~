% ROBT 310 - Lecture 8 Inclass exercise
%
% Author: Anuar Maratkhan
% Date: 6 Feb 2018

%%
close all ; clc; clear;     % Close all figure windows, Clear the screen and the workspace memory

%% Construct image
img = ones(500,500,'uint8')*255;
imgSize = size(img);
img = insertText(img,[imgSize(1)/2-5*72/2 imgSize(2)/2-72],'ANUAR','FontSize',72,...
    'BoxColor','white');
img_ref = imref2d(imgSize);

imshow(img,img_ref);

%% Scale image
c_x = 0.5;
c_y = 2;
newImg = zeros(c_x*imgSize(1), c_y*imgSize(2),'uint8');

for i = 1:imgSize(1)
    for j = 1:imgSize(2)
        i_dash = uinti*c_x;
        j_dash = j*c_y;
        st_i = (i-1)*c_x+1;
        st_j = (j-1)*c_y+1;
        newImg(st_i:i_dash,st_j:j_dash) = img(i,j);
    end
end

newImg_ref = imref2d(size(newImg));
subplot(121);
imshow(img, img_ref);
subplot(122);
imshow(newImg, newImg_ref);

%% Rotate image
theta = pi/4;
R = [cos(theta) sin(theta) 0; -sin(theta) cos(theta) 0; 0 0 1];





subplot(121);
imshow(img,img_ref);
subplot(122);
imshow(newImg,newImg_ref);
%% Translate image
t_x = 100;
t_y = 100;

subplot(121);
imshow(img, img_ref);
subplot(122);
imshow(newImg,newImg_ref);

%% Sheer (Vertical)
V = [1 0 0; 0.5 1 0; 0 0 1];
tform_v = affine2d(V);
[newImg, newImg_ref] = imwarp(img,tform_v);

subplot(121);
imshow(img,img_ref);
subplot(122);
imshow(newImg,newImg_ref);

%% Sheer (Horizontal)
H = [1 0.5 0; 0 1 0; 0 0 1];
tform_h = affine2d(H);
[newImg,newImg_ref] = imwarp(img,tform_h);

subplot(121);
imshow(img,img_ref);
subplot(122);
imshow(newImg,newImg_ref);
